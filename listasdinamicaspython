class Nodo:
    def __init__(self, dato):
        self.dato = dato
        self.siguiente = None

class ListaEnlazada:
    def __init__(self):
        self.cabeza = None

    def insertar_al_principio(self, dato):
        nuevo_nodo = Nodo(dato)
        nuevo_nodo.siguiente = self.cabeza
        self.cabeza = nuevo_nodo

    def imprimir_lista(self):
        actual = self.cabeza
        while actual:
            print(actual.dato, end=" -> ")
            actual = actual.siguiente
        print("None")
            
    def sacar_el_final(self):
        if not self.cabeza:
            raise Exception("La lista está vacía")
        if not self.cabeza.siguiente:
            dato_retirado = self.cabeza.dato
            self.cabeza = None
            return dato_retirado
        temp = self.cabeza
        while temp.siguiente.siguiente:
            temp = temp.siguiente
        dato_retirado = temp.siguiente.dato
        temp.siguiente = None
        return dato_retirado

# Ejemplo de uso
lista = ListaEnlazada()  #creando un objeto de la lista
while True:
    print("1. Insertar dato al principio")
    print("2. Imprimir lista")
    print("3. Sacar el dato del final")
    print("0. Salir")
    opcion = input("Seleccione una opción: ")
    
#trabajamos con las opciones del menú
    if opcion == "1":
        dato = input("Ingrese el dato a insertar al principio: ")
        lista.insertar_al_principio(dato)
    elif opcion == "2":
        print("La lista es:")
        lista.imprimir_lista()
    elif opcion == "3":
        try:
            dato_retirado = lista.sacar_el_final()
            print("Se retiró el dato:", dato_retirado)
        except Exception as e:
            print(e)
    elif opcion == "0":
        print("Saliendo del programa...")
        break
    else:
        print("Opción no válida. Por favor, seleccione una opción válida.")
